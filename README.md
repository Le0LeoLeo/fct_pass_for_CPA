# AI 大學升學輔助應用

這是一個整合了多個功能的AI大學升學輔助應用，包含：

## 功能模組

### 1. 主頁 (HomePage)
**功能說明：**
- 📊 **個人統計儀表板** - 顯示完成問卷、面試練習次數、收藏學校等統計數據
- 🎯 **快速功能入口** - 快速訪問大學資料庫、成績與練習、AI助手等主要功能
- 📝 **最近活動記錄** - 顯示最近的問卷完成、面試練習、大學瀏覽等活動
- ✅ **本週任務追蹤** - 顯示本週需要完成的任務，包括完成智能問卷、練習面試、瀏覽大學等
- 🤖 **AI推薦系統** - 根據問卷結果推薦適合的科系，顯示匹配度

**使用方式：**
- 登入後自動進入主頁
- 點擊功能卡片快速導航到對應頁面
- 查看統計數據了解學習進度
- 完成任務以解鎖AI推薦功能

---

### 2. 成績管理 (UpdateGradesPage)
**功能說明：**
- ✍️ **手動輸入成績** - 支援手動輸入各科目成績，包含分數、滿分、備註等資訊
- 📸 **OCR識別成績單** - 上傳成績單圖片（JPG/PNG）或PDF文件，自動識別並提取成績資料
  - 支援圖片格式：JPG、PNG
  - 支援PDF格式：自動提取第一頁進行識別
  - 自動解析科目名稱、分數、學期等資訊
- 📅 **學期管理** - 按學期組織成績，支援多學期成績記錄
- 📊 **加權平均計算** - 自動計算各科目加權平均分數
- 💾 **自動保存** - 成績資料自動保存到本地存儲，防止資料遺失
- 🎯 **文理組選擇** - 支援選擇文組或理組，用於後續分析

**使用方式：**
1. 點擊「上傳成績單」按鈕選擇圖片或PDF文件
2. 等待OCR識別完成（約10-30秒）
3. 檢查識別結果，手動修正錯誤的資料
4. 選擇文組或理組
5. 系統自動保存所有資料

**注意事項：**
- 確保成績單圖片清晰，文字可讀
- OCR識別結果可能需要手動調整
- 選修科目不計入平均分計算

---

### 3. 面試練習 (InterviewPracticePage)
**功能說明：**
- 🎤 **真實語音識別 (SST)** - 使用百度語音識別API，將語音轉換為文字
  - 支援中文普通話識別
  - 即時語音轉文字
  - 自動標點符號添加
- 🔊 **真實語音合成 (TTS)** - 使用百度語音合成API，將AI回答轉換為語音
  - 可調整語速、音調、音量
  - 支援暫停調整功能
  - 自然流暢的語音輸出
- 🤖 **AI面試官** - 使用文心4.0 API進行智能對話
  - 模擬真實面試場景
  - 根據回答提出追問
  - 提供專業面試建議
- ⚡ **性能指標監控** - 即時顯示ASR（語音識別）、LLM（AI對話）、TTS（語音合成）和端到端延遲
- 🎛️ **音頻參數調整** - 可調整語速、音調、音量等參數
- 💾 **面試記錄管理** - 保存面試對話記錄，可查看歷史記錄
- 📊 **面試評估** - 生成面試評估報告，包含分數、優點、改進建議

**使用方式：**
1. 確保已配置百度API密鑰（在個人資料頁面配置）
2. 點擊「開始錄音」按鈕開始面試
3. 回答AI面試官的問題
4. 系統自動進行語音識別、AI對話、語音合成
5. 結束面試後可查看評估報告
6. 面試記錄自動保存

**注意事項：**
- 需要允許瀏覽器麥克風權限
- 建議在安靜環境中使用
- 首次使用需要配置API密鑰

---

### 4. 大學資料庫 (UniversityDatabasePage)
**功能說明：**
- 🔍 **智能搜尋** - 支援大學名稱、科系名稱、城市等關鍵字搜尋
- 🏫 **詳細大學資訊** - 顯示大學基本資訊、聯繫方式、錄取分數、科系資訊等
  - 基本資訊：名稱、類型、城市、地址、創立年份
  - 聯繫資訊：電子郵件、電話、傳真
  - 錄取資訊：最低錄取分數、平均錄取分數
  - 科系資訊：各科系詳細資料
  - 校園設施：圖書館、實驗室、宿舍等
- 🔄 **資料來源** - 主要從Firebase Firestore讀取，支援Supabase後端
- 📊 **資料展示** - 以表格形式清晰展示各項資訊
- ⭐ **收藏功能** - 可收藏感興趣的大學（需登入）

**使用方式：**
1. 在搜尋框輸入關鍵字（大學名稱、科系等）
2. 點擊搜尋按鈕或按Enter鍵
3. 瀏覽搜尋結果列表
4. 點擊大學卡片查看詳細資訊
5. 展開/收起各資訊區塊

**注意事項：**
- 資料來源於Firebase，確保網路連線正常
- 部分大學可能缺少某些資訊欄位

---

### 5. 智能問卷 (QuestionnairePage)
**功能說明：**
- 🧠 **自適應問卷系統** - 根據回答動態調整問題，提高問卷效率
- 📊 **MBTI人格測試** - 評估16種人格類型（E/I、S/N、T/F、J/P）
- 🎯 **Holland職業興趣測試** - 評估6種職業興趣類型（R/I/A/S/E/C）
- 📈 **信心分數計算** - 即時計算各維度的信心分數
- 🔄 **收斂檢測** - 自動檢測已收斂的維度，停止相關問題
- 💾 **進度保存** - 自動保存問卷進度，可隨時繼續
- 📋 **結果分析** - 完成問卷後顯示詳細的人格和職業興趣分析

**使用方式：**
1. 點擊「開始問卷」按鈕
2. 閱讀問題並選擇最符合的選項
3. 系統根據回答自動生成下一題
4. 完成所有問題後查看結果
5. 結果可用於AI推薦和升學建議

**注意事項：**
- 問卷需要5-10分鐘完成
- 建議誠實回答以獲得準確結果
- 結果會影響AI推薦的準確性

---

### 6. AI 助手 (AIChatPage)
**功能說明：**
- 💬 **智能對話** - 使用文心4.0 API進行自然語言對話
- 📚 **升學諮詢** - 解答升學相關問題，包括：
  - 科系推薦
  - 學校選擇建議
  - 面試準備技巧
  - 升學規劃建議
- 💾 **對話記錄** - 保存所有對話記錄，支援多個對話
- 🔄 **對話管理** - 可創建新對話、刪除舊對話、切換對話
- ⚡ **即時回應** - 快速生成回答，流暢的對話體驗

**使用方式：**
1. 在輸入框輸入問題
2. 點擊「發送」按鈕或按Enter鍵
3. 等待AI生成回答
4. 繼續對話或創建新對話
5. 在側邊欄管理所有對話

**注意事項：**
- 需要配置百度API密鑰
- 建議問題具體明確以獲得更好回答
- 對話記錄保存在本地瀏覽器

---

### 7. 統計分析 (StatisticsPage)
**功能說明：**
- 📊 **成績統計分析** - 多維度分析成績資料
  - 各科目成績統計
  - 學期成績趨勢
  - 加權平均分數
  - 成績分佈圖表
- 🤖 **AI成績分析** - 使用AI分析成績並提供建議
  - 預估學測分數
  - 推薦適合科系
  - 優點分析
  - 改進建議
- 📈 **視覺化圖表** - 使用圖表展示成績趨勢和分佈
- 📋 **詳細報告** - 生成完整的成績分析報告

**使用方式：**
1. 確保已在成績管理頁面輸入成績
2. 進入統計頁面自動載入成績資料
3. 查看各項統計數據和圖表
4. 點擊「AI分析」按鈕生成AI分析報告
5. 根據建議調整學習計劃

**注意事項：**
- 需要先輸入成績資料
- AI分析需要配置API密鑰
- 分析結果僅供參考

---

### 8. 個人資料 (ProfilePage)
**功能說明：**
- 👤 **個人資訊管理** - 查看和編輯個人資料
  - 顯示Google帳號資訊（姓名、電子郵件、頭像）
  - 學歷資訊管理
- ⚙️ **偏好設定** - 管理應用程式設定
  - 通知設定
  - 應用程式偏好
- 📊 **使用統計** - 顯示使用情況統計
  - 使用天數
  - 完成問卷數
  - 面試練習次數
  - 收藏學校數
- 🔑 **API配置** - 配置百度API密鑰（用於語音和AI功能）

**使用方式：**
1. 查看個人資訊和使用統計
2. 點擊各設定項目進行配置
3. 在API配置中輸入百度API密鑰
4. 管理通知和應用程式偏好

**注意事項：**
- 個人資訊來自Google帳號
- API配置需要有效的百度API密鑰
- 設定會自動保存

---

### 9. 面試頁面 (InterviewPage)
**功能說明：**
- 📚 **面試題庫** - 分類整理常見面試題目
  - 自我介紹（12題）
  - 學習動機（15題）
  - 專業問題（20題）
  - 情境題（18題）
- 🎯 **練習模式** - 多種練習模式
  - 文字練習模式
  - 語音練習模式
- 📊 **練習記錄** - 顯示最近練習記錄
  - 練習題目
  - 評分
  - 回饋建議
  - 練習時間

**使用方式：**
1. 瀏覽各類面試題目
2. 選擇題目進行練習
3. 查看練習記錄和回饋
4. 點擊「開始模擬面試」進入語音面試練習

---

### 10. 成績與練習 (GradesAndPracticePage)
**功能說明：**
- 📊 **成績總覽** - 顯示成績統計資訊
  - 科目數量
  - 平均分數
  - 最後更新時間
- 📈 **學習統計** - 顯示學習情況
  - 總學習時數
  - 完成度
- 🎯 **快速入口** - 快速訪問各功能
  - 更新成績
  - 面試練習
  - 問卷填寫
  - 統計分析

**使用方式：**
1. 查看成績和學習統計
2. 點擊功能卡片快速導航
3. 了解整體學習進度

## 技術棧

### 前端
- React 18 + TypeScript
- Vite
- Tailwind CSS
- Framer Motion
- Firebase SDK
- Supabase Client

### 後端
- FastAPI (OCR服務)
- 百度千帆API (OCR, TTS, SST)
- 文心4.0 API (AI對話)

## 安裝與運行

### 前端

```bash
npm install
npm run dev
```

### 後端 (OCR服務)

```bash
cd backend
pip install -r requirements.txt
# 配置 .env 文件
uvicorn ocr_service:app --reload --port 8000
```

## 環境變數配置

### 前端 (.env)

```env
# 後端 API
VITE_API_BASE_URL=http://localhost:8000

# Supabase 配置（可選，如果使用 Supabase）
VITE_SUPABASE_URL=https://your-project.supabase.co
VITE_SUPABASE_ANON_KEY=your-anon-key-here
```

### 後端 (backend/.env)

```env
QIANFAN_API_KEY=bce-v3/your-api-key-here
```

### 百度API配置

在瀏覽器 localStorage 中配置：
- `baidu_api_key`: 百度API Key
- `baidu_secret_key`: 百度Secret Key

## 專案結構

```
.
├── backend/              # 後端服務
│   ├── ocr_service.py    # OCR API服務
│   └── requirements.txt # Python依賴
├── src/
│   ├── components/      # React組件
│   │   ├── UpdateGradesPage.tsx      # 成績管理（含OCR）
│   │   ├── InterviewPracticePage.tsx  # 面試練習（含TTS/SST）
│   │   └── UniversityDatabasePage.tsx # 大學資料庫（含Firebase）
│   └── services/        # API服務
│       ├── api.ts       # 百度API封裝
│       ├── firebase.ts  # Firebase服務
│       ├── supabase.ts  # Supabase服務
│       └── database.ts  # 統一資料庫接口
└── package.json
```

## 整合的功能

### 1. score_counting (OCR功能)
- 整合到 `UpdateGradesPage`
- 支持圖片上傳和OCR識別
- 自動解析成績資料

### 2. meet_prepare_tts_sst_erine (面試功能)
- 整合到 `InterviewPracticePage`
- 真實的語音識別和合成
- AI面試官對話

### 3. uni_database (大學資料庫)
- 整合到 `UniversityDatabasePage`
- Firebase Firestore資料讀取
- Supabase PostgreSQL資料讀取
- 統一資料庫接口，支持自動切換
- 動態資料載入

## 後端架構

專案採用混合後端架構：

### Firebase - 大學資料庫
- **用途**: 大學資料存儲和查詢
- **狀態**: 主要資料庫，已內建配置
- **位置**: `src/services/firebase.ts`

### Supabase - 後端服務
- **用途**: 用戶認證、用戶資料、其他業務邏輯
- **配置**: 已配置，見 `SUPABASE_CONFIG.md`
- **位置**: `src/services/supabase.ts`

### FastAPI - OCR 服務
- **用途**: 圖片 OCR 識別
- **位置**: `backend/ocr_service.py`

詳細架構說明請參考 `ARCHITECTURE.md`

## 注意事項

1. 確保後端OCR服務正在運行（端口8000）
2. 配置百度API密鑰以使用TTS/SST功能
3. 配置Firebase或Supabase以使用大學資料庫功能
4. 瀏覽器需要允許麥克風權限以使用語音功能
